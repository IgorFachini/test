(function(e){function t(t){for(var o,a,s=t[0],c=t[1],u=t[2],d=0,l=[];d<s.length;d++)a=s[d],i[a]&&l.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);f&&f(t);while(l.length)l.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={6:0},i={6:0},r=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{1:"22d19a8c",2:"4b043b3f",3:"204a5fa8",4:"225515dc",5:"3b877a4d"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={2:1,3:1,4:1,5:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var o=e+"."+{1:"31d6cfe0",2:"8a430f3c",3:"7907cedf",4:"c7992b2e",5:"e0637826"}[e]+".css",a=c.p+o,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var s=i[r],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===o||u===a))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){s=d[r],u=s.getAttribute("data-href");if(u===o||u===a)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.request=o,n(i)},l.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(l)}).then(function(){a[e]=0}));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise(function(t,n){o=i[e]=[t,n]});t.push(o[2]=r);var u=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e);var l=setTimeout(function(){f({type:"timeout",target:d})},12e4);function f(t){d.onerror=d.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");r.type=o,r.request=a,n[1](r)}i[e]=void 0}}d.onerror=d.onload=f,u.appendChild(d)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},c.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;r.push([82,0]),n()})({"3wHL":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var o="isAuthenticated",a="destiny"},82:function(e,t,n){e.exports=n("JJXq")},Hl11:function(e,t,n){},JJXq:function(e,t,n){"use strict";n.r(t);var o=n("MVZn"),a=n.n(o),i=(n("SpHO"),n("Kw5r")),r=n("4IOb");i["a"].use(r["N"],{cfg:{},components:{QLayout:r["x"],QLayoutHeader:r["z"],QLayoutDrawer:r["y"],QPageContainer:r["E"],QPage:r["D"],QToolbar:r["K"],QToolbarTitle:r["L"],QBtn:r["g"],QIcon:r["p"],QList:r["A"],QListHeader:r["B"],QItem:r["r"],QItemMain:r["s"],QItemSide:r["u"],QCard:r["h"],QItemTile:r["v"],QItemSeparator:r["t"],QCardTitle:r["m"],QCardMain:r["j"],QCardMedia:r["k"],QCardSeparator:r["l"],QCardActions:r["i"],QDialog:r["n"],QModal:r["C"],QField:r["o"],QInput:r["q"],QSelect:r["I"],QSpinnerHourglass:r["J"],QSearch:r["H"],QJumbotron:r["w"],QPageSticky:r["F"],QScrollObservable:r["G"]},directives:{Ripple:r["M"],CloseOverlay:r["a"]},plugins:{Notify:r["f"],LocalStorage:r["e"],LoadingBar:r["d"],Loading:r["c"],Dialog:r["b"]}});var s=n("lIOY");Object(s["a"])("/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.")},cached:function(e){console.log("Content has been cached for offline use.2")},updated:function(e){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("QBu7"),n("flf9"),n("OKqc"),n("KCao"),n("Hl11"),n("fm0S");var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},u=[];c._withStripped=!0;var d=n("4R65"),l=n.n(d);delete l.a.Icon.Default.prototype._getIconUrl,l.a.Icon.Default.mergeOptions({iconRetinaUrl:n("WE1v"),iconUrl:n("Y5fm"),shadowUrl:n("4rkx")});var f,g={name:"App"},h=g,p=(n("ZL7j"),n("KHd+")),m=Object(p["a"])(h,c,u,!1,null,null,null),v=m.exports,_=n("jE9Z"),w=(n("f3/d"),n("L2JU")),b={destinys:[],destinysPendencies:{checkin:[],checkout:[]},headerReveal:!0,header:!1},I=n("lSNA"),O=n.n(I),S=(n("dRSK"),n("3wHL")),y=O()({},S["b"],function(e,t,n,o){return function(t){var n=e.destinys.find(function(e){return e.id===t});return n||{id:null,atividade:"",tipo_atividade:"",detalhes_atividade:"carregando",nome:"carregando",endereco:"carregando",dt_atividade:"0000-00-00",hr_prev_chegada_ini:"00/00/0000 00:00",hr_prev_chegada_fim:null,tempo_max_permanencia:"00:00",latitude:0,longitude:0,raio:0,ordem_visita:2,interpretador:"",formulario:"",usuario_id:0,tipo_destino:"",id_destino:"",checkin:!1,checkout:!1,documentos:[],questions:[],checkinsync:!1,checkoutsync:!1,answered:!1}}}),k=(n("INYr"),n("kNJ9")),L=(f={},O()(f,k["b"],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.destinys=t.map(function(t){var n={};return e.destinys&&(n=e.destinys.find(function(e){return e.id===t.id})||{}),window.localStorage.getItem("checkin-".concat(t.id))?t.checkinsync=!1:t.checkinsync=!0,window.localStorage.getItem("checkout-".concat(t.id))?t.checkoutsync=!1:t.checkoutsync=!0,"checkin"in t||(t.checkin="checkin"in n&&n.checkin),"checkout"in t||(t.checkout="checkout"in n&&n.checkout),"answered"in t||(t.answered="answered"in n&&n.answered),t})}),O()(f,k["c"],function(e,t){var n=e.destinys.findIndex(function(e){return e.id===t.id});e.destinys[n]=t;var o=JSON.parse(window.localStorage.getItem("destinys"));o.atividades.itinerario=e.destinys,window.localStorage.setItem("destinys",JSON.stringify(o))}),f),N=(n("KKXr"),n("rGqo"),n("VRzm"),n("bDO0")),U=n("vDqi"),J=n.n(U),D={baseURL:null};D=JSON.stringify(D);var Q=JSON.parse(D);Q.baseURL="https://rotaexata.22s.com.br";var P=JSON.parse(D);P.baseURL="http://teste.22s.com.br";var E=JSON.parse(D);E.baseURL="http://192.168.0.155";var R=P,C=(localStorage.getItem("user_hash_op"),J.a.create({baseURL:R.baseURL}));C.interceptors.request.use(function(e){return localStorage.getItem("user_hash_op"),e},function(e){return Promise.reject(e)});var T,B,x=function(e){var t=e.Vue;t.prototype.$axios=C},q=localStorage.getItem("user_hash_op"),H=(T={},O()(T,N["e"],function(e){var t=e.commit;return q=localStorage.getItem("user_hash_op"),new Promise(function(e,n){var o=JSON.parse(window.localStorage.getItem("destinys"));o&&t(k["b"],o.atividades.itinerario),C.post("op_app/integra_mobile/atividades",{hash:q}).then(function(o){if(console.log("axios post",o),o.data.login){var a=o.data;if(a.atividades){var i=j(a);window.localStorage.setItem("destinys",JSON.stringify(i)),t(k["b"],i.atividades.itinerario),e("success destinys",i)}else n(new Error("Sem Atividades"))}else n(o.data.mensagem)}).catch(function(e){console.log("axios err",e);var t=JSON.parse(JSON.stringify(e));n(t)})})}),O()(T,N["c"],function(e,t){e.commit;return new Promise(function(e,n){var o={},a="checkin-"+t.id;window.localStorage.getItem(a)?o=JSON.parse(window.localStorage.getItem(a)):(o.ok_dt_chegada=new Date,o.id=t.id,o.tipo_destino=t.tipo_destino,t.id_destino&&(o.id_destino=t.id_destino),o.sent=!1,o.latitude=null,o.longitude=null,window.localStorage.setItem(a,JSON.stringify(o))),C.post("op_app/integra_mobile/checkin",{hash:q,dados:o}).then(function(t){t.data.login?(window.localStorage.removeItem(a),e(t.data)):n(t.data.mensagem)}).catch(function(e){console.log("axios err",e);var t=JSON.parse(JSON.stringify(e));n(t)})})}),O()(T,N["d"],function(e,t){var n=e.dispatch;return new Promise(function(e,o){console.log("inside GLOBAL_CHECKOUT",t);var a={},i="checkout-".concat(t.id);window.localStorage.getItem(i)?a=JSON.parse(window.localStorage.getItem(i)):(a.ok_dt_saida=new Date,a.id=t.id,a.tipo_destino=t.tipo_destino,t.id_destino&&(a.id_destino=t.id_destino),a.sent=!1,a.geojson={type:"Point",coordinates:[null,null]},window.localStorage.setItem(i,JSON.stringify(a)));var r="checkin-".concat(t.id),s=JSON.parse(window.localStorage.getItem(r));s?n(N["c"],t).then(function(n){A(t,a).then(function(t){e(t)},function(e){o(e)})},function(e){o(e)}):A(t,a).then(function(t){e(t)},function(e){o(e)})})}),T),A=function(e,t){return new Promise(function(n,o){z(e).then(function(a){C.post("op_app/integra_mobile/checkout",{hash:q,dados:t}).then(function(t){console.log("result checkout",t),t.data.login?(window.localStorage.removeItem("checkout-".concat(e.id)),n(t.data)):o(t.data)}).catch(function(e){console.log("axios err",e),o(e)})},function(e){o(e)})})},z=function(e){return new Promise(function(t,n){var o="destiny-"+e.id;if(window.localStorage.getItem(o)){var a=JSON.parse(window.localStorage.getItem(o));C.post("op_app/integra_mobile/respostas",{hash:q,dados:[a]}).then(function(e){console.log("result sendActivity",e),e.data.login?(window.localStorage.removeItem(o),t(!0)):n(e.data.mensagem)}).catch(function(e){console.log("axios err",e),n(e)})}else t(!0)})},j=function(e){var t={atividades:{},login:e.login,mensagem:e.mensagem,sync:!1},n=0,o=0;return e.atividades.forEach(function(e){var a=window.localStorage.getItem("checkout-".concat(e.id));a&&(a=JSON.parse(a),a.sent||(t.sync=!0));for(var i=[],r=e.formulario.split("##"),s=0;s<r.length;s++){for(var c=r[s].split("||"),u={},d=0;d<c.length;d++){var l=c[d].split("::"),f=l[0],g=l[1];u[f]=g}u["id"]=e.id,i.push(u)}t.atividades[e.tipo_destino]||(t.atividades[e.tipo_destino]=[]),e.hr_prev_chegada_ini&&e.hr_prev_chegada_ini.length>10&&(e.hr_prev_chegada_ini=e.hr_prev_chegada_ini.substring(8,10)+"/"+e.hr_prev_chegada_ini.substring(5,7)+"/"+e.hr_prev_chegada_ini.substring(0,4)+e.hr_prev_chegada_ini.substring(10,16)),e.hr_prev_chegada_fim&&e.hr_prev_chegada_fim.length>10&&(e.hr_prev_chegada_fim=e.hr_prev_chegada_fim.substring(8,10)+"/"+e.hr_prev_chegada_fim.substring(5,7)+"/"+e.hr_prev_chegada_fim.substring(0,4)+e.hr_prev_chegada_fim.substring(10,16));var h="rota"===e.tipo_destino?n:o;t.atividades[e.tipo_destino][h]=e,t.atividades[e.tipo_destino][h]["questions"]=i,"rota"===e.tipo_destino?n++:o++}),t},K={namespaced:!1,state:b,getters:y,mutations:L,actions:H},M={userData:void 0},W=O()({},S["a"],function(e){return!!e.userData}),Y=O()({},k["a"],function(e,t){e.userData=t}),V="AUTH_STORAGE_KEY",X=(B={},O()(B,N["b"],function(e,t){var n=e.commit;return new Promise(function(e,o){localStorage.removeItem(V),localStorage.removeItem("user_hash_op"),C.post("/op_app/integra_mobile/login",{hash:t}).then(function(t){if(console.log("AUTH_LOGIN_TOKEN",t),t.data.login){var a=t.data.usuario;localStorage.setItem(V,JSON.stringify(a)),localStorage.setItem("user_hash_op",a.hashApp),n(k["a"],a),e(t.data)}else o(t)}).catch(function(e){console.log("axios err",e);var t=JSON.parse(JSON.stringify(e));o(t)})})}),O()(B,N["a"],function(e){var t=e.commit,n=localStorage.getItem(V);n&&t(k["a"],JSON.parse(n))}),B),F={namespaced:!1,state:M,getters:W,mutations:Y,actions:X};i["a"].use(w["a"]);var G=new w["a"].Store({modules:{globalStore:K,auth:F}}),Z=G;function $(e,t,n){console.log("to",e),console.log("store",Z),Z.dispatch(N["a"]).then(function(){Z.getters[S["a"]]?"login"===e.name?n("/"):n():"login"!==e.name?n("/login"):n()})}var ee=[{path:"/login",name:"login",component:function(){return n.e(5).then(n.bind(null,"xvc/"))},beforeEnter:$},{path:"/",component:function(){return n.e(4).then(n.bind(null,"ez0Y"))},beforeEnter:$,children:[{path:"",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"kmF/"))}},{path:"/destiny/:id",name:"destiny",component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"WfYA"))}}]},{path:"*",component:function(){return n.e(1).then(n.bind(null,"7l0S"))}}];i["a"].use(_["a"]);var te=new _["a"]({mode:"history",base:"/",scrollBehavior:function(){return{y:0}},routes:ee}),ne=te,oe=n("Hc5T"),ae=n.n(oe),ie=n("qjNL"),re=n.n(ie),se=function(e){var t=e.Vue;t.use(re.a),t.use(ae.a)},ce=n("/jzl"),ue=n.n(ce);i["a"].config.productionTip=!0;var de=a()({el:"#q-app",router:ne,store:Z},v),le=[];le.push(x),le.push(se),le.forEach(function(e){return e({app:de,router:ne,store:Z,Vue:i["a"]})}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){ue.a.attach(document.body)},!1),new i["a"](de)},ZL7j:function(e,t,n){"use strict";var o=n("usnz"),a=n.n(o);a.a},bDO0:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return s});var o="loginWithToken",a="checkAuth",i="fetchDestinys",r="checkIn",s="checkOut"},fm0S:function(e,t,n){},kNJ9:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i});var o="setUser",a="setDestinys",i="updateDestinyById"},l8ur:function(e,t,n){var o={"./bounce.css":"PUmY","./bounceIn.css":"CliU","./bounceInDown.css":"pKm8","./bounceInLeft.css":"WWXe","./bounceInRight.css":"2oCq","./bounceInUp.css":"tg5a","./bounceOut.css":"853k","./bounceOutDown.css":"qbXy","./bounceOutLeft.css":"Bt10","./bounceOutRight.css":"Zrw1","./bounceOutUp.css":"kI+G","./fadeIn.css":"EHBt","./fadeInDown.css":"FiUO","./fadeInDownBig.css":"kzg4","./fadeInLeft.css":"DC5c","./fadeInLeftBig.css":"81dB","./fadeInRight.css":"74+S","./fadeInRightBig.css":"dHoL","./fadeInUp.css":"5/vb","./fadeInUpBig.css":"uK9C","./fadeOut.css":"Jc2o","./fadeOutDown.css":"k+pq","./fadeOutDownBig.css":"yIhU","./fadeOutLeft.css":"Xx1C","./fadeOutLeftBig.css":"pVV8","./fadeOutRight.css":"iTTW","./fadeOutRightBig.css":"lDgw","./fadeOutUp.css":"NRvT","./fadeOutUpBig.css":"I6Vv","./flash.css":"WKVH","./flip.css":"vaAy","./flipInX.css":"WLhn","./flipInY.css":"WQIU","./flipOutX.css":"csU/","./flipOutY.css":"uK2o","./headShake.css":"Iomn","./hinge.css":"CF6H","./jello.css":"gBTy","./lightSpeedIn.css":"632X","./lightSpeedOut.css":"0EOz","./pulse.css":"q5hK","./rollIn.css":"3HPs","./rollOut.css":"WSzb","./rotateIn.css":"SH0w","./rotateInDownLeft.css":"v2tj","./rotateInDownRight.css":"e5Zg","./rotateInUpLeft.css":"ifhg","./rotateInUpRight.css":"y4yY","./rotateOut.css":"3mUJ","./rotateOutDownLeft.css":"gTSn","./rotateOutDownRight.css":"Hqc8","./rotateOutUpLeft.css":"Y9Ea","./rotateOutUpRight.css":"/MMa","./rubberBand.css":"qrIa","./shake.css":"FfHN","./slideInDown.css":"eeoa","./slideInLeft.css":"qWPx","./slideInRight.css":"O3aI","./slideInUp.css":"IeMT","./slideOutDown.css":"q+3l","./slideOutLeft.css":"+FdI","./slideOutRight.css":"CkM9","./slideOutUp.css":"VwYb","./swing.css":"uWio","./tada.css":"M5GN","./wobble.css":"7VtN","./zoomIn.css":"OPPa","./zoomInDown.css":"JXdd","./zoomInLeft.css":"GZIC","./zoomInRight.css":"72gz","./zoomInUp.css":"l6Fa","./zoomOut.css":"zBUS","./zoomOutDown.css":"KsZc","./zoomOutLeft.css":"H9SI","./zoomOutRight.css":"+i/6","./zoomOutUp.css":"keWq"};function a(e){var t=i(e),o=n(t);return o}function i(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id="l8ur"},usnz:function(e,t,n){}});